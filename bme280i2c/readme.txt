RPiTPH Monitor基板用サンプルプログラム

【概要】
P2, P3, P4に接続されたBME280からI2Cで温度、湿度、気圧を取得して表示する プログラムです。Raspbian Jessieでコンパイルしたバイナリとソースファイル一式および、Python3で記述したスクリプトです。

I2Cを使用しますので、あらかじめ メニュー＞設定＞Raspberry Piの設定＞
インターフェースよりI2Cを有効にしてください。
コマンドから設定する場合はsudo raspi-configコマンドをご利用ください。


【ファイル構成 Python3】
bme280i2c.py : BME280をI2Cで制御するモジュール

【使い方 Python3】
ターミナルを開いて以下のように実行してください。
./bme280i2c.py
BME280の取得データが表示されます。


【ファイル構成 C++】
bme280i2c : バイナリ実行ファイル
main.cpp : メインルーチン
BME280I2C.cpp : BME280センサーを制御するクラス 
BME280I2C.h : BME280センサーを制御するクラスのヘッダーファイル
Makefile : g++用メイクファイル

【使い方 C++】
I2Cを使用しますので、あらかじめ メニュー＞設定＞Raspberry Piの設定＞インターフェースよりI2Cを有効にしてください。
コマンドから設定する場合はsudo raspi-configコマンドをご利用ください。
ターミナルを開いて以下のように実行してください。
./bme280i2c

ターミナル上にBME280から取得した温度、湿度、気圧が表示されます。両方のチャンネルにセンサーモジュールをつないでいる場合はどちらも表示されます。

キャリブレーションのデータなどより詳細な情報を表示させる場合は-vオプションを利用してください。
./bme280i2c -v

-lオプションに続けてファイル名を入力すると、そのファイルに時刻、気温、湿度、気圧がログとして残せます。既に作成済みのログファイルを指定すると、さらに追加されます。ログファイルはテキストエディタや表計算ソフトなどで開いてグラフ化できます。cronなどと組み合わせて定期的にデータを取得する用途に使用できます。
./bme280i2c -l logfile.csv


【更新履歴】
2017/10/23 : Python3で記述したサンプルを追加しました。
